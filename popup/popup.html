<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- 네비게이션 -->
    <nav class="popup-nav">
      <button class="nav-btn" data-target="apiSection">API 키</button>
      <button class="nav-btn" data-target="glossarySection">단어장</button>
    </nav>
    
    <!-- API 탭 -->
    <div id="apiSection" class="settings-section api-section">
      <div class="section">
        <button id="apiKeyIssue" class="api-issue-btn">API KEY 발급</button>
        <div class="api-warning">※유료 계정에 연동 시 요금이 부과됨</div>
        <div class="api-key-row">
          <input type="password" id="apiKey" placeholder="Gemini API 키를 입력하세요">
          <button id="saveApiKey">저장</button>
        </div>
        <div class="usage-row">
          <span id="usageCount">0 / 1500</span>
          <div class="usage-graph-container">
            <div id="dailyUsageGraph" class="usage-graph"></div>
          </div>
        </div>
        <div id="apiKeyMsg" class="message"></div>
      </div>
    </div>
    
    <!-- 단어장 탭 -->
    <div id="glossarySection" class="settings-section glossary-section">
      <div class="section">
        <div class="glossary-actions-top">
          <button id="importGlossary" class="small-action-btn">단어장 불러오기</button>
          <button id="exportGlossary" class="small-action-btn">단어장 내보내기</button>
        </div>
        <div class="glossary-input-container">
          <div class="glossary-input">
            <input type="text" id="sourceWord" placeholder="원본 단어">
            <span class="arrow">→</span>
            <input type="text" id="targetWord" placeholder="번역 단어">
            <button id="addWord">추가</button>
          </div>
        </div>
        <!-- 검색, 정렬 -->
        <div class="glossary-filter">
          <input type="text" id="searchGlossary" placeholder="🔍 검색">
          <select id="sortOrder">
            <option value="recent">최신순</option>
            <option value="old">오래된순</option>
            <option value="modified">수정순</option>
            <option value="modified_reverse">수정역순</option>
            <option value="asc">이름순</option>
            <option value="desc">이름역순</option>
          </select>
        </div>
        <div id="glossaryList" class="glossary-list">
          <!-- 단어장 항목 추가 -->
        </div>
        <div id="glossaryToggle" class="glossary-toggle">▼</div>
      </div>
    </div>
  </div>
  
  <script src="../utils/storage.js"></script>
  <script type="module" src="popup.js"></script>
</body>
</html>